<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Chat Demo</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f5f5f5; }
    .wrap { max-width: 520px; margin: 40px auto; }
    .chat { background:#fff; border-radius:12px; padding:16px; box-shadow: 0 2px 10px rgba(0,0,0,.08); }
    .msgs { height: 420px; overflow-y: auto; padding: 8px; border: 1px solid #eee; border-radius: 10px; background:#fafafa; }
    .row { margin: 10px 0; display:flex; }
    .row.user { justify-content: flex-end; }
    .bubble { max-width: 80%; padding:10px 12px; border-radius: 14px; white-space: pre-wrap; line-height: 1.35; }
    .user .bubble { background:#dff0ff; }
    .bot .bubble { background:#fff; border:1px solid #e6e6e6; }
    .bar { display:flex; gap:8px; margin-top:12px; }
    input { flex:1; padding:10px; border-radius:10px; border:1px solid #ddd; }
    button { padding:10px 14px; border-radius:10px; border:1px solid #ddd; background:#fff; cursor:pointer; }
    small { color:#666; display:block; margin-top:8px; }
  </style>
</head>
<body>
<div class="wrap">
  <div class="chat">
    <h3 style="margin:0 0 10px 0;">Clinic Chat Demo</h3>
    <div id="msgs" class="msgs"></div>
    <div class="bar">
      <input id="inp" placeholder="Type a message…" onkeydown="if(event.key==='Enter') send()" />
      <button onclick="send()">Send</button>
      <button onclick="resetSession()">Reset</button>
    </div>
    <small>Tip: Try “Should I take antibiotics?” then share your name/phone/best time.</small>
  </div>
</div>

<script>
const sessionId = "demo_customer";

function add(role, text) {
  const msgs = document.getElementById("msgs");
  const row = document.createElement("div");
  row.className = "row " + role;
  const bubble = document.createElement("d
